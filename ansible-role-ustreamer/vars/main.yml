# Specifies the filesystem path or URL of a Debian package that installs
# uStreamer.
ustreamer_debian_package_path: https://github.com/tiny-pilot/ustreamer-debian/releases/download/5.38-20230620124412/ustreamer_5.38-20230620124412_armhf.deb

# The user/group must match the one created by the uStreamer Debian package.
ustreamer_group: ustreamer
ustreamer_user: ustreamer
ustreamer_dir: /opt/ustreamer

# Path to file with persistent uStreamer settings to apply across role
# runs.
ustreamer_settings_file: /home/{{ ustreamer_user }}/config.yml

ustreamer_janus_apt_suite: "{{ ansible_distribution_release }}-backports"

# These variables are only used within this role.
ustreamer_janus_configs_dir: /etc/janus

ustreamer_yq_version: v4.30.6

ustreamer_launcher_dir: /opt/ustreamer-launcher
ustreamer_launcher_script: "{{ ustreamer_launcher_dir }}/launch"

ustreamer_launcher_configs_dir: "{{ ustreamer_launcher_dir }}/configs.d"

ustreamer_port: 8001 # Must match app/update/settings.py.
# Assigning `ustreamer_h264_sink` will make the uStreamer role install the Janus
# server on the system, and thus enable H264 video streaming.
ustreamer_h264_sink: tinypilot::ustreamer::h264
ustreamer_h264_sink_mode: 777
ustreamer_h264_sink_rm: yes
